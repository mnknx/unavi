syntax = "proto3";

package xyz.unavi.editor.edit;

message EditId {
  enum Type {
    SCENE = 0;
    NODE = 1;
    PRIMITIVE = 2;
    MATERIAL = 3;
  }

  Type type = 1;
  uint32 index = 2;
  string id = 3;
}

message EditNode {
  string target = 1;

  optional string name = 2;
  optional string parent = 3;
  
  repeated float translation = 4;
  repeated float rotation = 5;
  repeated float scale = 6;

  optional string mesh = 7;

  message Extras {
    bool locked = 1;
  }

  optional Extras extras = 8;

  message Collider {
    enum Type {
      NONE = 0;
      BOX = 1;
      SPHERE = 2;
      CAPSULE = 3;
      CYLINDER = 4;
      MESH = 5;
      HULL = 6;
    }

    Type type = 1;
    optional float height = 2;
    optional float radius = 3;
    repeated float size = 4;
    optional string mesh = 5;
  }

  optional Collider collider = 9;

  message RigidBody {
    enum Type {
      NONE = 0;
      STATIC = 1;
      KINEMATIC = 2;
      CHARACTER = 3;
      DYNAMIC = 4;
      VEHICLE = 5;
      TRIGGER = 6;
    }

    Type type = 1;
    optional float mass = 2;
    repeated float linear_velocity = 3;
    repeated float angular_velocity = 4;
    repeated float center_of_mass = 5;
    repeated float inertiaTensor = 6;
  }

  optional RigidBody rigid_body = 10;
}

message EditMeshPrimitive {
  string target = 1;

  optional string name = 2;
  optional string material = 3;

  repeated uint32 indices = 4;
  repeated float position = 5;
  repeated float normal = 6;
  repeated float color = 7;
  repeated float weights = 8;
  repeated float joints = 9;
  repeated float uv = 10;
  repeated float uv1 = 11;
  repeated float uv2 = 12;
  repeated float uv3 = 13;
}
